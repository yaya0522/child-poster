<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å„¿ç«¥è¯†å­—å°æŠ¥ç”Ÿæˆå™¨ - æµ‹è¯•ç‰ˆ</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
</head>
<body>
    <div class="container">
        <!-- é¡µé¢æ ‡é¢˜ -->
        <header class="header">
            <h1 class="title">
                <span class="emoji">ğŸ“š</span>
                å„¿ç«¥è¯†å­—å°æŠ¥ç”Ÿæˆå™¨ï¼ˆæµ‹è¯•ç‰ˆï¼‰
            </h1>
            <p class="subtitle">ä¸º5-9å²å„¿ç«¥åˆ›å»ºæœ‰è¶£çš„è¯†å­—å­¦ä¹ å°æŠ¥</p>
        </header>

        <!-- APIå¯†é’¥è®¾ç½®åŒºåŸŸ -->
        <section class="api-key-section">
            <div class="input-group">
                <label for="apiKey">APIå¯†é’¥ï¼š</label>
                <input type="password" id="apiKey" placeholder="è¯·è¾“å…¥æ‚¨çš„Nano Banana Pro APIå¯†é’¥">
                <button id="saveApiKey" class="btn btn-secondary">ä¿å­˜</button>
            </div>
        </section>

        <!-- è¾“å…¥åŒºåŸŸ -->
        <section class="input-section" id="inputSection">
            <h2 class="section-title">åˆ›å»ºè¯†å­—å°æŠ¥</h2>

            <div class="input-group">
                <label for="theme">ä¸»é¢˜/åœºæ™¯ï¼š</label>
                <select id="theme" class="theme-select">
                    <option value="">è¯·é€‰æ‹©ä¸»é¢˜</option>
                    <option value="è¶…å¸‚">è¶…å¸‚</option>
                    <option value="åŒ»é™¢">åŒ»é™¢</option>
                    <option value="å…¬å›­">å…¬å›­</option>
                    <option value="å­¦æ ¡">å­¦æ ¡</option>
                    <option value="åŠ¨ç‰©å›­">åŠ¨ç‰©å›­</option>
                    <option value="å®¶åº­">å®¶åº­</option>
                    <option value="é¤å…">é¤å…</option>
                    <option value="å›¾ä¹¦é¦†">å›¾ä¹¦é¦†</option>
                </select>
                <input type="text" id="customTheme" placeholder="æˆ–è¾“å…¥è‡ªå®šä¹‰ä¸»é¢˜">
            </div>

            <div class="input-group">
                <label for="newspaperTitle">å°æŠ¥æ ‡é¢˜ï¼š</label>
                <input type="text" id="newspaperTitle" placeholder="ä¾‹å¦‚ï¼šã€Šèµ°è¿›è¶…å¸‚ã€‹ã€Šå¿«ä¹åŒ»é™¢ã€‹">
            </div>

            <button id="generateBtn" class="btn btn-primary" disabled>
                <span class="emoji">âœ¨</span>
                ç”Ÿæˆå°æŠ¥
            </button>

            <!-- è°ƒè¯•ä¿¡æ¯ -->
            <div style="margin-top: 20px; padding: 10px; background: #f0f0f0; border-radius: 5px;">
                <h4>è°ƒè¯•ä¿¡æ¯ï¼š</h4>
                <p id="debugInfo"></p>
            </div>
        </section>
    </div>

    <!-- é”™è¯¯æç¤º -->
    <div class="error-toast" id="errorToast" style="display: none;">
        <span class="error-icon">âš ï¸</span>
        <span class="error-message" id="errorMessage"></span>
        <button class="error-close" onclick="hideError()">&times;</button>
    </div>

    <!-- æˆåŠŸæç¤º -->
    <div class="success-toast" id="successToast" style="display: none;">
        <span class="success-icon">âœ…</span>
        <span class="success-message" id="successMessage"></span>
    </div>

    <!-- å¼•å…¥JavaScriptæ–‡ä»¶ -->
    <script src="js/utils.js"></script>
    <script src="js/prompt-generator.js"></script>
    <script src="js/api.js"></script>
    <script src="js/app-fixed.js"></script>
    <script>
        // è°ƒè¯•è„šæœ¬
        function updateDebugInfo() {
            const debugInfo = document.getElementById('debugInfo');
            const themeSelect = document.getElementById('theme');
            const customThemeInput = document.getElementById('customTheme');
            const titleInput = document.getElementById('newspaperTitle');
            const generateBtn = document.getElementById('generateBtn');

            debugInfo.innerHTML = `
                ä¸»é¢˜é€‰æ‹©: "${themeSelect.value}"<br>
                è‡ªå®šä¹‰ä¸»é¢˜: "${customThemeInput.value}"<br>
                æ ‡é¢˜: "${titleInput.value}"<br>
                ç”ŸæˆæŒ‰é’®çŠ¶æ€: ${generateBtn.disabled ? 'ç¦ç”¨' : 'å¯ç”¨'}<br>
                æœ‰ä¸»é¢˜: ${!!(themeSelect.value || customThemeInput.value.trim())}<br>
                æœ‰æ ‡é¢˜: ${!!titleInput.value.trim()}
            `;
        }

        // ç›‘å¬æ‰€æœ‰å˜åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            setInterval(updateDebugInfo, 500);

            // è°ƒè¯•ï¼šæ¨¡æ‹Ÿè¾“å…¥
            document.getElementById('apiKey').value = 'test12345678901234567890123456789012';
            document.getElementById('saveApiKey').click();
        });
    </script>
</body>
</html>